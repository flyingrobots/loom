---
title: RFC-0001-NICe
date created: Thursday, November 27th 2025, 9:58:15 pm
date modified: Thursday, November 27th 2025, 10:34:04 pm
aliases:
  - NICe
  - Node Identity & Canonical Encoding
status: Draft
author: James Ross
contributors: JIT Community (future)
requires: None
target spec: JITOS v0.x, TECHSPEC v0.3+
license: Open Source (TBD)
version: "1.0"
---

# **JIT RFC-0001**

## **Node Identity & Canonical Encoding (NICe v1.0)**

---

# **1. Summary**

This RFC defines:

- **how nodes are identified**
- **how nodes are serialized**
- **how node integrity is guaranteed**
- **how node equality is evaluated**
- **how canonical encoding is achieved**

This establishes the foundational invariant of JIT:

> **Node identity is a pure function of its content and parent list.**

This RFC is the ground truth that allows:

- determinism
- idempotence
- reproducibility
- causal ordering
- infinite auditability
- distributed correctness

Without this, JIT collapses.

With it, JIT becomes physically sound.

---

# **2. Motivation**

JIT relies on an immutable, append-only DAG.

This requires:

- stable identity
- canonical encoding
- deterministic hashing
- cross-machine consistency
- architecture independence

If ANY machine in the network produces different node IDs for the same logical content, **the universe fractures.** So this RFC formalizes the physics of node identity.

---

# **3. Requirements**

Node identity must be:

## **Deterministic**

Same input → same output, across all architectures.

## **Order-sensitive**

Parents must be hashed in deterministic order.

## **Type-sensitive**

Different node types produce different encodings.

## **Encoding-stable**

Versioning cannot alter identity retroactively.

## **Hash-secure**

Strong cryptographic guarantees.

## **Provenance-faithful**

Parent list is required and must not be empty (except for the root node).

---

# **4. Canonical Node Structure**

All nodes have the structure:

```rust
Node {
    type: NodeType
    parents: list<NodeID>
    payload: bytes
    metadata: Metadata
}
```

Metadata fields:

- timestamp (logical + wall clock)
- author ID
- signature (optional)
- compression flags
- schema version

Metadata must be strictly ordered.

---

# **5. Canonical Serialization Format**

JIT **MUST** use **canonical CBOR** (RFC 8949 §4.2):

- sorted map keys
- minimal integer encoding
- UTF-8 canonical strings
- deterministic floats
- no ambiguous structures

This ensures:

- architecture-independent serialization
- byte-stable hashing
- reproducibility across time

---

# **6. Hashing Algorithm**

JIT **MUST** use **BLAKE3-256** as the node identity hash.

Justification:

- extremely fast
- cryptographically strong
- parallelizable
- tree-hash capable
- flexible
- future-proof

```rust
NodeID = blake3(canonical_encoding(node)).
```

---

# **7. Parent Ordering Rule**

Parents **MUST** be sorted lexicographically by NodeID prior to serialization.

This ensures:

- determinism
- order independence of logical causal descent
- reproducible merges
- identical rewrites under identical conditions

---

# **8. Signature Layer (Optional)**

Signatures are not part of NodeID.

They are stored in metadata.

This ensures:

- same node ≠ same identity as signed node
- signatures don’t alter causal truth

Node signature **MUST** be:

```rust
sig = sign(private_key, NodeID)
```

---

# **9. Root Node**

The root node (the initial event of the universe):

```rust
type = "root"
parents = []
payload = empty
metadata = minimal
```

Hashing rules apply; this produces a deterministic root ID.

---

# **10. Backwards Compatibility**

If future schemas add fields:

- new fields **MUST** serialize to canonical defaults (0/null/empty)
- missing fields **MUST** be interpreted as canonical default
- **identity cannot change retroactively**

We do not mutate the past.

Ever.

---

# **11. Security Considerations**

- BLAKE3-256 ensures strong collision resistance.
- CBOR canonicalization ensures no cross-machine divergence.
- Parent sorting ensures rewrite determinism.
- Metadata versioning ensures forward compatibility.
- Signatures separate identity from attestation.

This RFC provides **cryptographic grounding** for the entire JIT universe.

---

# **12. Status & Next Steps**

Once accepted, RFC-0001 becomes:

- mandatory for JITD prototypes
- referenced by [RFC-0002](./RFC-0002.md) (DAG Invariants)
- foundational for JITOS v0.1
- the backbone of all future JIT systems

---

# **CΩMPUTER • JITOS** 
© 2025 James Ross • [Flying • Robots](https://flyingrobots.dev)
All Rights Reserved

