\ProvidesPackage{styles/jitos-print}

\RequirePackage{silence}
\WarningFilter{latex}{Label `}               % suppress multiply-defined labels
\WarningFilter{latex}{Overfull \\hbox}       % suppress overfull hbox warnings
\WarningFilter{latex}{Underfull \\vbox}      % suppress underfull vbox warnings
\WarningFilter{latex}{There were multiply-defined labels}
\WarningFilter{rerunfilecheck}{File `}       % suppress rerunfilecheck warnings

% ========================================
% VANILLA PRINT VERSION - NO DRACULA
% ========================================

% Package Imports

% Typography and fonts
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}

% Math and symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

% Graphics and colors
\usepackage{graphicx}
\usepackage{xcolor}
% NO DRACULA - just standard colors
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,arrows.meta,positioning,calc,automata,decorations.pathreplacing,decorations.markings,shapes.geometric,fit,matrix,patterns,mindmap,trees,backgrounds,circuits.logic.US}
\usepackage{tikz-cd}

% SVG support (requires Inkscape installed)
\usepackage{svg}
\svgpath{{assets/images/}}

% Tables and Captions
\usepackage{array}
\usepackage{calc}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{caption}

% Layout and spacing
\usepackage[
  paperwidth=6in,
  paperheight=9in,
  top=1in,
  bottom=1in,
  inner=0.75in,
  outer=0.75in
]{geometry}
\usepackage{setspace}
\usepackage{enumitem}
\usepackage{newunicodechar}

% Remove paragraph indentation and add spacing between paragraphs
\usepackage{parskip}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5\baselineskip plus 2pt}

% Headers and footers
\usepackage{fancyhdr}
\setlength{\headheight}{26pt}

% Hyperlinks - standard colors
\usepackage[
  colorlinks=true,
  linkcolor=black,
  urlcolor=blue,
  citecolor=black,
  bookmarks=true,
  bookmarksnumbered=true
]{hyperref}

% Cleveref for cross-references (must load AFTER hyperref)
\usepackage[nameinlink,capitalise]{cleveref}

% Code listings
\usepackage{listings}

% Unicode fallbacks to keep builds warning-free
\newunicodechar{Ω}{\ensuremath{\Omega}}
\newunicodechar{∘}{\ensuremath{\circ}}
\newunicodechar{Δ}{\ensuremath{\Delta}}
\newunicodechar{’}{'}
\newunicodechar{“}{``}
\newunicodechar{”}{''}
\newunicodechar{…}{\ldots}
\newunicodechar{—}{\textemdash}
\newunicodechar{₀}{\textsubscript{0}}
\newunicodechar{┌}{+}
\newunicodechar{┐}{+}
\newunicodechar{┘}{+}
\newunicodechar{┬}{+}
\newunicodechar{┴}{+}

% Relax box badness to avoid overfull/underfull warnings
\hbadness=10000
\vbadness=10000
\hfuzz=60pt
\vfuzz=60pt
\usepackage{verbatim}

% Quotations and blocks
\usepackage{csquotes}

% Title formatting
\usepackage{titlesec}

% ========================================
% Custom Styling
% ========================================

% Define standard colors
\definecolor{quotegray}{gray}{0.4}
\definecolor{codebg}{gray}{0.95}

% Custom theorem environments
\theoremstyle{definition}
% Use section for article class, chapter for book class
\@ifundefined{chapter}{%
  \newtheorem{definition}{Definition}[section]
  \newtheorem{theorem}{Theorem}[section]
  \newtheorem{lemma}{Lemma}[section]
  \newtheorem{example}{Example}[section]
}{%
  \newtheorem{definition}{Definition}[chapter]
  \newtheorem{theorem}{Theorem}[chapter]
  \newtheorem{lemma}{Lemma}[chapter]
  \newtheorem{example}{Example}[chapter]
}

% Custom block quote style
\newenvironment{partintro}
  {\begin{quote}\itshape\color{quotegray}}
  {\end{quote}}

% Code listing style - VANILLA
\lstset{
  basicstyle=\ttfamily\small,
  backgroundcolor=\color{codebg},
  frame=single,
  breaklines=true,
  columns=flexible,
  keepspaces=true,
  showstringspaces=false
}

% Custom section styling for "FOR THE NERDS"
\newenvironment{nerdbox}
  {\par\vspace{0.5em}\noindent\hrulefill\newline\textbf{FOR THE NERDS™}\newline\hrulefill\par\vspace{0.3em}\small}
  {\par\vspace{0.3em}\noindent\hrulefill\par\vspace{0.5em}}

% Pandoc compatibility macros
\providecommand{\tightlist}{
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\newcommand{\passthrough}[1]{#1}

% Workaround for pandoc longtable
\newcounter{none}

% ========================================
% Macros
% ========================================

% Define Omega command for CΩMPUTER
\newcommand{\COmega}{C$\Omega$MPUTER}
\newcommand{\JITOS}{JITOS}

% Wordmark commands - use SVG logos
\newcommand{\computerwordmark}[1][4cm]{\includesvg[width=#1]{COMPUTER.svg}}
\newcommand{\codexwordmark}[1][3cm]{\includesvg[width=#1]{CΩDEX.svg}}
\newcommand{\partwordmark}[2][5cm]{\includesvg[width=#1]{#2}}

% Custom chapter opening with optional wordmark
\newcommand{\chapterwithwordmark}[2]{
  \chapter{#1}
  \vspace{-1em}
  \begin{center}
  \includesvg[width=5cm]{#2}
  \end{center}
  \vspace{1em}
}
